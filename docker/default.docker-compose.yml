# Template docker-compose.yml file - copy to docker-compose.yml and modify.
# Change the service names, container names, and exposed ports.
# Things to change: 'mymysql', 'mydrupal', '8080', '3307'
version: '2'

services:
  mymysql:
    container_name: mymysql
    image: mysql:latest
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: drupal
    ports:
      # Expose container MySQL port.
      - "3307:3306"
    volumes:
      - "../data/mysql:/var/lib/mysql"

  mydrupal:
    container_name: mydrupal
    # Name the built image so it won't get an autogenerated name.
    image: mydrupal:latest
    build: .
    volumes:
      - "../data/drupal:/var/www/html"
    # Expose container Apache port.
    ports:
      - "8080:80"
    depends_on:
      - mymysql

